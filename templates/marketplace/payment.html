{% extends 'base.html' %}
{% block title %}Payment - {{ order.product.name }}{% endblock %}

<section class="checkout-section">
    <div class="checkout-card">
        <h2>Pay with {{ gateway.name }}</h2>
        <p>Order: {{ order.product.name }} | â‚¦{{ order.product.price|floatformat:2 }}</p>
        <p>Buyer: {{ order.buyer_name }} | {{ order.buyer_email }}</p>

        <button id="payButton" class="btn btn-netflix-primary w-100">
            Proceed to Payment
        </button>

        <p class="mt-3 text-warning">
            If payment fails, you will be redirected to: <a href="{{ gateway.fallback_url }}">{{ gateway.fallback_url }}</a>
        </p>
    </div>
</section>

<script>
document.getElementById('payButton').addEventListener('click', function() {
    // Example: Redirect to actual gateway checkout
    alert("Here you will integrate the gateway SDK using key: {{ gateway.public_key }}");
});
</script>
